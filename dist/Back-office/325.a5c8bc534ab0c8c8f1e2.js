"use strict";(self.webpackChunkback_office=self.webpackChunkback_office||[]).push([[325],{8325:(A,c,n)=>{n.r(c),n.d(c,{LogModule:()=>g});var l=n(8583),d=n(4655),t=n(7716),p=n(3190),f=n(5304),v=n(205),h=n(1841),u=n(7518);let P=(()=>{class o{constructor(e,a){this.http=e,this.apiconfigService=a}getLogs(){return this.apiconfigService.getApiBasePath().pipe((0,p.w)(e=>this.http.get(`${e}/api/log/getlogs`)),(0,f.K)(e=>(console.log("Error retrieving logs:",e),(0,v._)(e))))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(h.eN),t.LFG(u.N))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var L=n(1573);function i(o,s){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.qZA()),2&o){const e=s.$implicit,a=t.oxw();t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(a.currentuser),t.xp6(2),t.Oqu(e.date),t.xp6(2),t.Oqu(e.message)}}const r=[{path:"",component:(()=>{class o{constructor(e,a,C){this.logService=e,this.tokenStorageService=a,this.http=C,this.isLoggedIn=!1,this.logs=[],this.userServices=[]}ngOnInit(){this.logService.getLogs().subscribe(e=>{this.logs=e,this.getCurrentUser()},e=>{console.log(e)})}getCurrentUser(){if(this.isLoggedIn=!!this.tokenStorageService.getToken(),this.isLoggedIn){const e=this.tokenStorageService.getUser();this.currentuser=e.username}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(P),t.Y36(L.i),t.Y36(h.eN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-log"]],decls:17,vars:1,consts:[[1,"table-responsive"],[1,"table","align-middle","table-bordered"],[1,"gray-row"],[2,"text-align","center"],[4,"ngFor","ngForOf"]],template:function(e,a){1&e&&(t._UZ(0,"br"),t._UZ(1,"br"),t._UZ(2,"br"),t.TgZ(3,"div",0),t.TgZ(4,"table",1),t.TgZ(5,"thead"),t.TgZ(6,"tr",2),t.TgZ(7,"th",3),t._uU(8,"ID"),t.qZA(),t.TgZ(9,"th",3),t._uU(10,"User"),t.qZA(),t.TgZ(11,"th",3),t._uU(12,"Date"),t.qZA(),t.TgZ(13,"th",3),t._uU(14,"Action(s)"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"tbody"),t.YNc(16,i,9,4,"tr",4),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(16),t.Q6J("ngForOf",a.logs))},directives:[l.sg],styles:["table[_ngcontent-%COMP%]{width:50%;border-collapse:collapse}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;text-align:left;border-bottom:1px solid #ddd}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;font-weight:bold}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid #ddd}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#18baeb}.gray-row[_ngcontent-%COMP%]{background-color:#534d4d}"]}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.Bz.forChild(r)],d.Bz]}),o})(),g=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,M]]}),o})()},7518:(A,c,n)=>{n.d(c,{N:()=>L});var l=n(6215),d=n(2298),t=n(5917),p=n(3342),f=n(8002),v=n(4612),h=n(5257),u=n(7716),P=n(1841);let L=(()=>{class i{constructor(r){this.http=r,this.apiBasePathLoaded=new l.X(!1),this.apiBasePathSubject=new d.t(1),this.storageKey="apiBaseUrl",this.loadApiBasePath().subscribe()}loadApiBasePath(){const r=localStorage.getItem(this.storageKey);return r?(this.apiBasePathSubject.next(r),this.apiBasePathLoaded.next(!0),(0,t.of)(!0)):this.http.get("assets/config.json").pipe((0,p.b)(M=>{const g=M.apiBaseUrl;if(!g)throw new Error("API base URL not found in config.json");localStorage.setItem(this.storageKey,g),this.apiBasePathSubject.next(g),this.apiBasePathLoaded.next(!0)}),(0,f.U)(()=>!0))}getApiBasePath(){return this.apiBasePathLoaded.pipe((0,v.b)(r=>{if(r)return this.apiBasePathSubject.pipe((0,h.q)(1));throw new Error("API base URL not loaded")}))}getApiBaseUrl(){return localStorage.getItem(this.storageKey)}}return i.\u0275fac=function(r){return new(r||i)(u.LFG(P.eN))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);