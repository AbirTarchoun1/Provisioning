"use strict";(self.webpackChunkback_office=self.webpackChunkback_office||[]).push([[385],{2385:(y,d,r)=>{r.r(d),r.d(d,{ProfileModule:()=>P});var g=r(8583),l=r(4655),o=r(3679),p=r(8259),u=r.n(p),e=r(7716),f=r(1573),h=r(2413),v=r(7001),U=r(1095),b=r(6627);function A(t,i){1&t&&e._uU(0," Please login. ")}let Z=(()=>{class t{constructor(n,s,a,c,q){this.token=n,this.router=s,this.userService=a,this._Snackbar=c,this.fb=q,this.hide=!0,this.panelOpenState=!0,this.user=this.fb.group({userId:new o.NI,username:new o.NI,email:new o.NI})}ngOnInit(){this.currentUser=this.token.getUser(),this.user.patchValue(this.currentUser),console.log(this.currentUser)}save(){u().fire({title:"Are you sure to update Your profil?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(n=>{n.value&&this.userService.updateCurrentUser({userId:this.user.value.id,username:this.user.value.username,email:this.user.value.email}).subscribe(s=>{let a=JSON.parse(sessionStorage.getItem("auth-user")||" ");sessionStorage.setItem("auth-user",JSON.stringify({token:a.token,role:a.role,userStatus:a.userStatus,username:this.user.value.username,email:this.user.value.email})),console.log("updated",s),u().fire("Updated!"," Updated successfully.","success"),u()},s=>{this._Snackbar.open("Error occurend !!"+(null==s?void 0:s.message),"",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:["mat-toolbar","mat-warn"]})})})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.i),e.Y36(l.F0),e.Y36(h.K),e.Y36(v.ux),e.Y36(o.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile-users"]],decls:71,vars:1,consts:[[1,"container"],[1,"card","m-b-30"],[1,"card-body"],[1,"example-form",3,"formGroup"],[1,"row"],[1,"col-md-6","col-sm-6"],["type","text","formControlName","username","placeholder","title",1,"form-control"],["type","email","formControlName","email","placeholder","title",1,"form-control"],["mat-raised-button","","color","primary",2,"width","85px",3,"click"],["mat-raised-button",""],[1,"example-form"],["type","password","placeholder","Current password",1,"form-control"],["type","password","placeholder","New password",1,"form-control"],["type","password","placeholder","Repeat new password",1,"form-control"],["mat-raised-button","","color","primary",2,"width","85px"],["loggedOut",""]],template:function(n,s){1&n&&(e._UZ(0,"br"),e._UZ(1,"br"),e._UZ(2,"br"),e.TgZ(3,"div",0),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e.TgZ(6,"h5"),e._uU(7," Change Info"),e.qZA(),e.TgZ(8,"form",3),e._UZ(9,"br"),e._UZ(10,"br"),e.TgZ(11,"div",4),e.TgZ(12,"div",5),e.TgZ(13,"label"),e._uU(14," Username "),e.qZA(),e._UZ(15,"input",6),e.qZA(),e.qZA(),e.TgZ(16,"div",4),e.TgZ(17,"div",5),e._UZ(18,"br"),e.TgZ(19,"label"),e._uU(20," Email "),e.qZA(),e._UZ(21,"br"),e._UZ(22,"input",7),e.qZA(),e.qZA(),e.qZA(),e._UZ(23,"br"),e._UZ(24,"br"),e.TgZ(25,"div",4),e.TgZ(26,"div",5),e._uU(27,"\xa0\xa0 "),e.TgZ(28,"button",8),e.NdJ("click",function(){return s.save()}),e.TgZ(29,"mat-icon"),e._uU(30,"save "),e.qZA(),e._uU(31," Save"),e.qZA(),e._uU(32," \xa0\xa0 "),e.TgZ(33,"button",9),e._uU(34,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div"),e._UZ(36,"br"),e._UZ(37,"br"),e.TgZ(38,"div",0),e.TgZ(39,"div",1),e.TgZ(40,"div",2),e.TgZ(41,"form",10),e.TgZ(42,"h5"),e._uU(43," Change Password "),e.qZA(),e.TgZ(44,"form",10),e._UZ(45,"br"),e.TgZ(46,"div",4),e.TgZ(47,"div",5),e._UZ(48,"input",11),e.qZA(),e.qZA(),e._UZ(49,"br"),e.TgZ(50,"div",4),e.TgZ(51,"div",5),e._UZ(52,"input",12),e.qZA(),e.qZA(),e._UZ(53,"br"),e.TgZ(54,"div",4),e.TgZ(55,"div",5),e._UZ(56,"input",13),e.qZA(),e.qZA(),e.qZA(),e._UZ(57,"br"),e._UZ(58,"br"),e.TgZ(59,"div",4),e.TgZ(60,"div",5),e._uU(61,"\xa0\xa0 "),e.TgZ(62,"button",14),e.TgZ(63,"mat-icon"),e._uU(64,"save "),e.qZA(),e._uU(65," Save"),e.qZA(),e._uU(66," \xa0\xa0 "),e.TgZ(67,"button",9),e._uU(68,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.YNc(69,A,1,0,"ng-template",null,15,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(8),e.Q6J("formGroup",s.user))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,U.lW,b.Hw,o.F],styles:["body[_ngcontent-%COMP%]{background:#f5f5f5;margin-top:20px}.ui-w-80[_ngcontent-%COMP%]{width:80px!important;height:auto}.btn-default[_ngcontent-%COMP%]{border-color:#181c211a;background:rgba(0,0,0,0);color:#4e5155}label.btn[_ngcontent-%COMP%]{margin-bottom:0}.btn[_ngcontent-%COMP%]{cursor:pointer}.text-light[_ngcontent-%COMP%]{color:#babbbc!important}.card[_ngcontent-%COMP%]{background-clip:padding-box;box-shadow:0 1px 4px #181c2103}.row-bordered[_ngcontent-%COMP%]{overflow:hidden}.account-settings-fileinput[_ngcontent-%COMP%]{position:absolute;visibility:hidden;width:1px;height:1px;opacity:0}"]}),t})();const T=[{path:"",component:Z},{path:"profile",component:Z}];let C=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.Bz.forChild(T)],l.Bz]}),t})();var m=r(6021);let P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[g.ez,C,o.u5,m.q,o.UX],m.q,o.u5,o.UX]}),t})()}}]);